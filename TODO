# TODO

#### JKLIB
- [x] Viewset update
    - [x] Serializer mode as enum
    - [x] Update serializers in app
    - [x] Implement app-wide permissions
    - [x] Implement viewset-wide permissions
    - [x] Refactor check_permissions
    - [x] Update viewsets in app
- [x] Tests
    - [x] ImprovedTestCase
    - [x] ActionTestCase
    - [x] ModelAPITestCase

#### Core API
- [x] Make django script to delete migration files
- [x] Make django script to deletes db > remove migrations > make migrations > migrate > create super user
- [x] Create Operation and Task classes
- [x] Extend Command class to provide "proceed" function
- [x] Move those classes to jklib
- [x] Settings
    - [x] Move model info to settings
    - [x] Restructure settings
    - [x] Create usable template with default values
- [x] Add IpAddress model
- [x] Add tests for the IpAddress model
- [x] Permission IsNotBlacklisted to global
- [ ] Add permission test in all actions (with shared function) 
- [ ] Add tested services:
    - [ ] (admin) create
    - [ ] (admin) retrieve
    - [ ] (admin) list
    - [ ] (admin) update
    - [ ] (admin) destroy
    - [ ] (admin) blacklist
    - [ ] (admin) whitelist
    - [ ] (admin) clear
- [ ] Clean up database
    - [x] Write the function
    - [x] Write a test
    - [ ] Setup a cron job
- [ ] Remove admins

#### Users API
- [x] Move auth services from core to users
- [x] (JKLIB) Handle "staff vs users" serializers
- [x] Add "Staff" versions for services and tests
    - [x] create
    - [x] destroy
    - [x] list
    - [x] perform_password_reset
    - [x] request_password_reset
    - [x] retrieve
    - [x] send_verification_email
    - [x] update
    - [x] update_password
    - [x] verify
- [x] New service override password
    - [x] Service
    - [x] Test
    - [x] Postman
- [ ] Better split existing tests
- [ ] Add tests for the Profile model
- [ ] Add tests for the Token model
- [ ] Login/Logout
    - [ ] Setup token auth
    - [ ] Login service and test
    - [ ] Include a ban check based on login tries (model already exist?)
    - [ ] Logout service and test
- [ ] Remove admins

#### Contact API
- [ ] Contact Model
    - [ ] Update model
    - [ ] Include a ban check
    - [ ] Write tests
- [ ] Contact API service + test
    - [ ] Create (should blacklist ip if too many) + Ban
    - [ ] List 
    - [ ] Retrieve 
    - [ ] Delete
- [ ] Clean up database
    - [ ] Write the function
    - [ ] Write a test
    - [ ] Setup a cron job
- [ ] Remove admins

#### Emails
Update the design and content of the following emails:
- [ ] Users
    - [ ] Verify
    - [ ] Welcome
    - [ ] Password reset
    - [ ] Password update
- [ ] Contact
    - [ ] Admin alert
    - [ ] User alert
    - [ ] Config either in settings or Contact class

#### Others
- [ ] Update README.md
